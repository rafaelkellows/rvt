$(function(){!function(){var validateEmail=function(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)},validateInput=function(val){var re=/^[^]+$/;return re.test(val)};$(".telefone").mask("(00) 0000-0000"),$(".celular").mask("(00) 00000-0000");var revitech={init:function(){this.carrossel(),this.nicescroll(),this.loading(),this.menu(),this.rszWindow(),$(document).ready(function(){$(".parallax").length&&$(".parallax").parallax()}),this.validForm()},loadJson:function(){$.ajax({url:"js/map/stores.js",dataType:"json",success:function(json){console.log("Foi "+json[0]),revitech.loadJsonContent()},error:function(r){console.log("Deu Erro")}})},loadJsonContent:function(argument){},loading:function(){$(window).load(function(){revitech.gallery(),revitech.msgInfo(),$("#popUp").fadeOut()})},msgInfo:function(){jQuery("#popUp:not(.gallery)").fadeIn(function(){jQuery("#popUp").find("a").click(function(){jQuery("#popUp").fadeOut()})}),$(".msgInfo").each(function(){$(this).parent().hover(function(){$(this).find(".msgInfo").addClass("active")},function(){$(this).find(".msgInfo").removeClass("active")})})},menu:function(){var _c;$("main:not(.comingsoon) > header nav.menu").hover(function(){$(window).width()>1023?(clearInterval(_c),$(this).addClass("active")):$(this).find(">*").unbind("click")},function(){$(window).width()>1023&&(_c=setInterval(function(){$("main:not(.comingsoon).home > header nav.menu").removeClass("active")},1e3))}).click(function(e){clearInterval(_c),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")}),$(window).width()>1023&&$("main:not(.comingsoon):not(.home) > header nav.menu").addClass("active")},gallery:function(){var img,_iW,_iH,_naturalW,_naturalH;jQuery(".carrGaleria a, .carrGallery figure span, .carrGallery figure a").click(function(){_imgSRC=$(this).find("img"),$(this).parent().hasClass("ctrl")||($(window).resize(function(){alignImg()}),_imgSRC.length&&(jQuery("#popUp figure").removeAttr("class"),_imgSRC.attr("url-src")?jQuery("#popUp figure").html(_imgSRC.clone().attr("src",_imgSRC.attr("url-src"))):jQuery("#popUp figure").html(_imgSRC.clone()),_imgSRC.attr("title")&&jQuery("#popUp figure").prepend("<figcaption>"+_imgSRC.attr("title")+"</figcaption>")),jQuery("#popUp").addClass("gallery").fadeIn(function(){$(this).find("a").click(function(){jQuery("#popUp").fadeOut(function(){$("#popUp .cssload-thecube").show(),img=null}),$("#popUp > section").removeClass("active")});var _s;_s=setInterval(function(){$("#popUp img").one("load",function(){}).each(function(){this.complete&&(clearInterval(_s),img=$(this),_naturalW=img.width(),_naturalH=img.height(),alignImg(),$("#popUp .cssload-thecube").fadeOut(function(){$("#popUp > section").addClass("active")}))})},1e3)}))});var alignImg=function(){if(img){var _wW=$(window).width(),_wH=$(window).height();_iW=_naturalW,_iH=_naturalH,_naturalW>=_wW&&_wH>=_naturalH&&(img.css("width",eval(_wW-20)).css("height","auto"),_iW=img.width()),img.css("marginLeft",eval(_wW/2-img.width()/2)).css("marginTop",eval(_wH/2-img.height()/2))}};$(".carrGaleria .cntr").each(function(){if($(this).attr("cg-ctrl")){itens=$(this).find($(this).attr("cg-ctrl")),cntrWidth=0,itemWidth=0;for(var i=0;i<=itens.length;i++)cntrWidth+=itens.eq(i).outerWidth(!0),itens.eq(i).outerWidth(!0)>itemWidth&&(itemWidth=itens.eq(i).outerWidth(!0)+5);itens.parent().css("width",cntrWidth+15).css("left",0),_unbind=!1,$(this).parent().find(".ctrl a").click(function(e){_unbind||(_unbind=!0,$(this).index()?(calc=parseInt(itens.parent().css("width"))- -parseInt(itens.parent().css("left")),calc>=$(this).closest(".carrGaleria").width()?(itens.parent().css("left",parseInt(itens.parent().css("left"))-itemWidth),setTimeout(function(){_unbind=!1},500)):_unbind=!1):parseInt(itens.parent().css("left"))<0?(itens.parent().css("left",parseInt(itens.parent().css("left"))+itemWidth),setTimeout(function(){_unbind=!1},500)):_unbind=!1)})}})},toTop:function(elem){var offset=1,duration=500;jQuery(window).scroll(function(){$("body main").attr("id")||(jQuery(this).scrollTop()>offset?$("body main").addClass("internal"):$("body main").removeClass("internal")),jQuery("#CS").html(jQuery(this).scrollTop())}),jQuery("html, body").animate({scrollTop:0},duration)},carrossel:function(){var owl=$("section.carrossel > div");owl.find("dl").length<=1||owl.owlCarousel({autoplay:!0,smartSpeed:600,loop:!0,margin:0,nav:!1,responsive:{0:{items:1},600:{items:1},1e3:{items:1}},paginationSpeed:1e3,singleItem:!0,autoPlay:8e3})},nicescroll:function(){$("#map path").first().click();var _el=$("main:not(.comingsoon).ondeencontrar #map aside div");_el.length>0&&$(window).width()>1024&&_el.niceScroll({styler:"fb",cursorwidth:"3px",cursorcolor:"#4c5246",cursorborderradius:"0px",background:"#c8c1b9",scrollspeed:100})},rszWindow:function(){$(window).resize(function(){$(window).width()<1023?$("main:not(.comingsoon):not(.home) > header nav.menu").removeClass("active"):$("main:not(.comingsoon):not(.home) > header nav.menu").addClass("active")})},validForm:function(){0!==$("form").length&&$("form input[type=submit]").click(function(e){e.preventDefault();var email=$(this).closest("form").find("input[name=email]"),telefone=$(this).closest("form").find("input[name=telefone]"),celular=$(this).closest("form").find("input[name=celular]"),_vEmail=function(){validateInput(email.val())?validateEmail(email.val())?$(this).closest("form").submit():alert("O E-mail inserido parece estar errado! Por favor confira novamente."):(alert("O campo E-mail precisa ser preenchido para entrarmos em contato."),email.focus())},_vCelular=function(){validateInput(celular.val())?$(this).closest("form").submit():(alert("O campo Celular precisa ser preenchido para entrarmos em contato."),celular.focus())};switch($(this).closest("form").find("input[name=contactby]:checked").val()){case"e-mail":_vEmail();break;case"telefone":validateInput(telefone.val())?$(this).closest("form").submit():(alert("O campo Telefone precisa ser preenchido para entrarmos em contato."),telefone.focus());break;case"celular":_vCelular()}return 0===email.val().length?void _vEmail():0===celular.val().length?void _vCelular():void $(this).closest("form").submit()})}};revitech.init()}()});